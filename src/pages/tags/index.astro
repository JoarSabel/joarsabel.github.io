---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";

const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];

const pageTitle = "Tag index";
---

<html lang="en">
  <BaseLayout pageTitle={pageTitle} htmlTitle={pageTitle}>
    <div
      class="flex flex-row flex-wrap justify-center content-center text-center"
    >
      {
        tags.map((tag) => (
          <p class="text-xl border bg-nord4 dark:bg-nord1 border-nord4 rounded hover:border-nord11 hover:scale-110 hover:z-10 transition duration-300  p-1 m-2">
            <a href={`/tags/${tag}`}>{tag}</a>
          </p>
        ))
      }
    </div>
  </BaseLayout>
</html>
